<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>anagrafica 2.0</title>

    <style>
    body {
        font-family: serif;
        background-color: rgb(227, 19, 19);
        margin: 0;
        padding: 0;
        color: #fff;
        font-size: 18px;
    }

    body{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
    }

    h1 {
        text-align: center;
        background-color: rgb(241, 46, 46);
        max-width: 520px;
        padding: 18px;
        border-radius: 24px;
        margin: 30px auto;
    }

    .container{
        width: 90%;
        max-width: 640px;
        box-sizing: border-box;
        margin: 10px auto;
    }

    h2 {
        text-align: center;
        margin-top: 20px;
        margin-bottom: 10px;
        color: #fff;
    }

    input[type="text"],
    input[type="number"],
    select {
        text-align: center;
        background-color: rgb(249, 187, 63);
        padding: 12px;
        border: 1px solid rgba(0,0,0,0.1);
        border-radius: 6px;
        width: 100%;
        font-size: 16px;
        box-sizing: border-box;
        margin-bottom: 10px;
        color: #000;
    }

    input[type="checkbox"],
    input[type="radio"] {
        text-align: center;
    }

    button {
        background-color: rgb(204, 12, 12);
        border: none;
        padding: 12px 20px;
        border-radius: 8px;
        cursor: pointer;
        color: #fff;
        font-weight: 600;
        margin-top: 10px;
        display: block;
        margin-left: auto;
        margin-right: auto;
        font-size: 16px;
    }

    button:hover {
        background-color: rgb(240, 156, 86);
    }

    pre#risultati {
        background-color: rgba(255,255,255,0.2);
        padding: 18px;
        border-radius: 10px;
        white-space: pre-wrap;
        word-wrap: break-word;
        font-size: 15px;
    }
    </style>
</head>
<body>


    <h1>anagrafica 2.0</h1>

    <div>
        <h2>dati e informazioni personali</h2>
        Nome:<br>
        <input type="text" id="inputnome"><br>
        Cognome:<br>
        <input type="text" id="inputcognome"><br>
        <div>
        <h2>Luogo di residenza</h2>
        Regione:<br>
        <select id="regione" onchange="caricaProvince()">
            <option value="">seleziona regione</option>
            <option value="Lombardia">Lombardia</option>
            <option value="Sardegna">Sardegna</option>
            <option value="Sicilia">Sicilia</option>
            <option value="Veneto">Veneto</option>
        </select><br>
        Provincia:<br>
        <select id="provincia">
            <option value="">seleziona provincia</option>
        </select>
    </div>

        Indirizzo:<br>
        <input type="text" id="inputindirizzo"><br>
        Anno di nascita:<br>
        <input type="number" id="inputnascita" min="1900" max="2025"><br>
        <p id="generazione"></p>
        <p id="eta"></p>
    </div>

    <div>
        <h2>Genere</h2>
        <input type="radio" name="genere" value="Femmina"> Femmina<br>
        <input type="radio" name="genere" value="Maschio"> Maschio<br>
        <input type="radio" name="genere" value="Altro"> Altro<br>
    </div>

    <div>
        <h2>Mezzi posseduti</h2>
        <input type="checkbox" class="mezzo" value="Bicicletta"> Bicicletta<br>
        <input type="checkbox" class="mezzo" value="Automobile"> Automobile<br>
        <input type="checkbox" class="mezzo" value="Barca"> Barca<br>
        <input type="checkbox" class="mezzo" value="Moto"> Moto<br>
    </div>

    <div>
        <h2>Sport</h2>
        <select id="sport" multiple style="height:120px; width:150px;">
            <option>Atletica</option>
            <option>Pallavolo</option>
            <option>Nuoto</option>
            <option>Calcio</option>
            <option>Tennis</option>
            <option>Equitazione</option>
            <option>Danza</option>
            <option>Arti Marziali</option>
        </select>
    </div>

    <br>
    <button onclick="verifica()">VERIFICA</button>

    <div>
        <h2>RISULTATI COMPLETI</h2>
        <pre id="risultati"></pre>
    </div>

<script>

    var province = {
        "Lombardia": ["Milano","Bergamo","Brescia","Como", "Cremona", "Lecco","Lodi","Mantova","Pavia","Sondrio","Varese"],
        "Veneto": ["Venezia","Padova","Verona","Vicenza","Belluno","Rovigo","Treviso"],
        "Sicilia": ["Palermo","Catania","Messina","Trapani", "Agrigento", "Caltanissetta", "Enna", "Siracusa", "Ragusa"],
        "Sardegna": ["Cagliari", "Nuoro", "Oristano", "Sassari", "Sud Sardegna"],
    };

    function caricaProvince() {
        var regione = document.getElementById("regione").value;
        var provincia = document.getElementById("provincia");

        provincia.innerHTML = "<option> seleziona provincia </option>";

        if (province[regione]) {
            var optionsHTML = "";
            for (var i=0; i<province[regione].length; i++) {
                optionsHTML += "<option value='" + province[regione][i] + "'>" + province[regione][i] + "</option>";
            }
            provincia.innerHTML += optionsHTML;
        }
    }

    function trovaGenerazione(anno) {
        if (anno >= 1946 && anno <= 1964) return "Baby Boomers";
        if (anno >= 1965 && anno <= 1980) return "Generazione X";
        if (anno >= 1981 && anno <= 1996) return "Millennials";
        if (anno >= 1997 && anno <= 2012) return "Generazione Z";
        if (anno >= 2013) return "Generazione Alpha";
        return "Anno non valido";
    }

    function verifica() {
        var nome = document.getElementById("inputnome").value;
        var cognome = document.getElementById("inputcognome").value;
        var indirizzo = document.getElementById("inputindirizzo").value;
        var anno = parseInt(document.getElementById("inputnascita").value);

        var genere = document.querySelector('input[name="genere"]:checked');
        var reg = document.getElementById("regione").value;
        var prov = document.getElementById("provincia").value;

        var mezziSel = [];
        var mezzi = document.getElementsByClassName("mezzo");
        for (var i=0; i<mezzi.length; i++) {
            if (mezzi[i].checked) {
                mezziSel.push(mezzi[i].value);
            }
        }

        var sportSel = [];
        var sportOptions = document.getElementById("sport").options;
        for (var i=0; i<sportOptions.length; i++) {
            if (sportOptions[i].selected) {
                sportSel.push(sportOptions[i].value);
            }
        }

        var generazione = !isNaN(anno) ? trovaGenerazione(anno) : "-";
        var eta = !isNaN(anno) ? new Date().getFullYear() - anno : "-";

        var risultatoTesto = 
        "Nome: " + nome + "\n" +
        "Cognome: " + cognome + "\n" +
        "Regione: " + (reg || "-") + "\n" +
        "Provincia: " + (prov || "-") + "\n" +
        "Indirizzo: " + indirizzo + "\n" +
        "Anno di nascita: " + anno + "\n" +
        "Generazione: " + generazione + "\n" +
        "Età: " + eta + " anni\n" +
        "Genere: " + (genere ? genere.value : "-") + "\n" +
        "Mezzi: " + (mezziSel.length ? mezziSel.join(", ") : "-") + "\n" +
        "Sport: " + (sportSel.length ? sportSel.join(", ") : "-");

        document.getElementById("risultati").textContent = risultatoTesto;

        document.getElementById("generazione").textContent = "Generazione: " + generazione;
        document.getElementById("eta").textContent = "Età: " + eta + " anni";
    }
</script>

</body>
</html>